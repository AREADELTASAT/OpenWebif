#filter WebSafe
#from Plugins.Extensions.OpenWebif.local import tstrings
<style>
  #atlist .ui-selecting { background: #FECA40; }
  #atlist .ui-selected { background: #F39814; color: white; }
  #atlist { list-style-type: none; margin: 0; padding: 0; }
  #atlist li { margin: 3px; padding: 0.4em; font-size: 1.1em; height: 16px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}
  optgroup {font-weight: bolder;}
fieldset > label
{
	-webkit-margin-top-collapse: separate;
	margin-top: 1.5em;
	display: inline-block;
}
</style>

<div id="content_main" style="min-height: 500px;">
	<div id="info">
		<div style="background-color: #00000">
		<div style="display: inline-block; width: 100%; zoom: 1;">
			<div style="float:left;width:200px;">
				<h3>$tstrings['at_list']</h3>
				<ol id="atlist">
				</ol>
				
			</div>
			<div style="margin-left:200px;">
				<div style="display: inline-block; width: 100%; zoom: 1;">
					<h3>$tstrings['at_at_edit'] <span id='at_name'></span></h3>
					<div id="ateditcontent">
						<form>
							<fieldset>
								<br><label for="enabled">$tstrings['at_enabled']:</label>
								<input type="checkbox" name="enabled" id="enabled" value="" class="checkbox ui-widget-content ui-corner-all">
								<label for="name">$tstrings['at_description']:</label>
								<input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all">
								<label for="match">$tstrings['at_title_match']:</label>
								<input type="text" name="match" id="match" class="text ui-widget-content ui-corner-all">
								<br><label for="encoding">$tstrings['at_encoding']:</label>
								<select name="encoding" id="encoding">
								<option value="ISO8859-15" selected="selected">ISO8859-15</option>
								<option value="UTF-8">UTF-8</option>
								</select>
								<label for="searchType">$tstrings['at_search_type']:</label>
								<select name="searchType" id="searchType">
								<option value="partial" selected="selected">$tstrings['at_partial_match']</option>
								<option value="exact">$tstrings['at_exact_match']</option>
								<option value="title">$tstrings['at_description_match']</option>
								</select>
								<br><label for="searchCase">$tstrings['at_search_strictness']:</label>
								<select name="searchCase" id="searchCase">
								<option value="sensitive" selected="selected">$tstrings['at_case_sensitive']</option>
								<option value="insensitive">$tstrings['at_case_insensitive']</option>
								</select>
								<br><label for="justplay">$tstrings['at_timer_type']:</label>
								<select name="justplay" id="justplay">
								<option value="0" selected="selected">$tstrings['at_record']</option>
								<option value="1">$tstrings['at_zap']</option>
								</select>
								<label for="overrideAlternatives">$tstrings['at_override_alt']:</label>
								<input type="checkbox" name="overrideAlternatives" id="overrideAlternatives" value="" class="checkbox ui-widget-content ui-corner-all">
								<br><label for="timeSpan">$tstrings['at_timespan']:</label>
								<input type="checkbox" name="timeSpan" id="timeSpan" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="timeSpanE">
									<label for="from">$tstrings['at_timespan_begin']:</label>
									<input type="text" name="from" id="from" value="" class="text ui-widget-content ui-corner-all">
									<label for="to">$tstrings['at_timespan_end']:</label>
									<input type="text" name="to" id="to" value="" class="text ui-widget-content ui-corner-all">
									</span>
								<br><label for="timeFrame">$tstrings['at_datespan']:</label>
								<input type="checkbox" name="timeFrame" id="timeFrame" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="timeFrameE">
									<label for="before">$tstrings['at_datespan_before']:</label>
									<input type="text" name="before" id="before" value="" class="text date ui-widget-content ui-corner-all">
									<label for="after">$tstrings['at_datespan_after']:</label>
									<input type="text" name="after" id="after" value="" class="text date ui-widget-content ui-corner-all">
									</span>
								<br><label for="timerOffset">$tstrings['at_timer_offset']:</label>
								<input type="checkbox" name="timerOffset" id="timerOffset" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="timerOffsetE">
									<label for="obefore">$tstrings['at_timer_offset_before']:</label>
									<select name="obefore" id="obefore">
									</select>
									<label for="oafter">$tstrings['at_timer_offset_after']:</label>
									<select name="oafter" id="oafter">
									</select>
									</span>
								
								<br><label for="maxDuration">$tstrings['at_max_duration']:</label>
								<input type="checkbox" name="maxDuration" id="maxDuration" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="maxDurationE">
									<label for="maxduration"></label>
									<select name="maxduration" id="maxduration">
									</select>
									</span>
								
								<br><label for="afterevent">$tstrings['at_after_event']:</label>
								<select name="afterevent" id="afterevent">
								<option value="" selected="selected">$tstrings['at_after_event_standard']</option>
								<option value="none">$tstrings['at_after_event_nothing']</option>
								<option value="standby">$tstrings['at_after_event_standby']</option>
								<option value="shutdown">$tstrings['at_after_event_deepstandby']</option>
								<option value="auto">$tstrings['at_after_event_auto']</option>
								</select>
								<br><br><span id="AftereventE">
								<label for="timeSpanAE">$tstrings['at_event_timespan']:</label>
								<input type="checkbox" name="timeSpanAE" id="timeSpanAE" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="timeSpanAEE">
									<br><br><label for="from">$tstrings['at_event_timespan_begin']:</label>
									<input type="text" name="aefrom" id="aefrom" value="" class="text ui-widget-content ui-corner-all">
									<br><br><label for="to">$tstrings['at_event_timespan_end']:</label>
									<input type="text" name="aeto" id="aeto" value="" class="text ui-widget-content ui-corner-all">
									</span>
								</span>
								
								<br><label for="counter">$tstrings['at_max_counter']:</label>
								<select name="counter" id="counter">
								</select>
								<span id="CounterE">
								<label for="left">$tstrings['at_left']:</label>
								<select name="left" id="left">
								</select>
								<label for="counterFormat">$tstrings['at_reset_count']:</label>
								<select id="counterFormat" name="counterFormat" size="1">
								<option value="" selected>$tstrings['at_never']</option>
								<option value="%m">$tstrings['at_monthly']</option>
								<option value="%U">$tstrings['at_weekly_sun']</option>
								<option value="%W">$tstrings['at_weekly_mon']</option>
								</select>
								</span>
								
								<br><label for="avoidDuplicateDescription">$tstrings['at_avoid_dup']:</label>
								<select name="avoidDuplicateDescription" id="avoidDuplicateDescription">
								<option value="0" selected="selected">$tstrings['at_avoid_dup_no']</option>
								<option value="1">$tstrings['at_avoid_dup_same_service']</option>
								<option value="2">$tstrings['at_avoid_dup_any_service']</option>
								<option value="3">$tstrings['at_avoid_dup_any_service_rec']</option>
								</select>
								<br><label for="Location">$tstrings['at_location']:</label>
								
								<input type="checkbox" name="Location" id="Location" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="LocationE">
									<label for="location"></label>
									<select name="location" id="location">
										#for $location in $locations
											<option value="$location">$location</option>
										#end for
									</select>
									</span>
									
								<br><label for="Tags">$tstrings['at_tags']:</label>
									<span id="TagsE">
									<select data-placeholder="$tstrings['at_select_tags']" name="tags" id="tags" class="tags_select_box" multiple tabindex="16">
									</select>
									</span>
								<br><label for="Bouquets">$tstrings['at_bouquets']:</label>
								<input type="checkbox" name="Bouquets" id="Bouquets" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="BouquetsE">
									<select data-placeholder="$tstrings['at_select_bouquets']" name="bouquets" id="bouquets" class="bq_select_box" multiple tabindex="16">
									</select>
									</span>
								<br><label for="Channels">$tstrings['at_channels']:</label>
								<input type="checkbox" name="Channels" id="Channels" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="ChannelsE">
									<select data-placeholder="$tstrings['at_select_channels']" name="channels" id="channels" class="ch_select_box" multiple tabindex="16">
									</select>
									</span>
								<br>
								<br>
								<div>
								<label for="Filter">$tstrings['at_filter']:</label>
								<input type="checkbox" name="Filter" id="Filter" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="FilterE" style="display:inline-table">
									<input type="button" id="AddFilter" value="$tstrings['at_add']"/>
									<table id="filterlist">
									<tr id="dummyfilter" style="display:none">
									<td class="nopadding">
									<select size="1" class="FT">
									<option value="include" selected="">$tstrings['at_filter_include']</option>
									<option value="exclude">$tstrings['at_filter_exclude']</option>
									</select>
									</td>
									<td class="nopadding">
									<select size="1" class="FM">
									<option value="title" selected="">$tstrings['at_filter_title']</option>
									<option value="shortdescription">$tstrings['at_filter_short_desc']</option>
									<option value="description">$tstrings['at_filter_desc']</option>
									<option value="dayofweek">$tstrings['at_filter_day']</option>
									</select>
									</td>
									<td class="nopadding">
									<input type="text" class="FI" size="20" value="" style="display: block;">
									<select size="1" class="FS" style="display: none;">
									<option value="0" selected="">$tstrings['monday']</option>
									<option value="1">$tstrings['tuesday']</option>
									<option value="2">$tstrings['wednesday']</option>
									<option value="3">$tstrings['thursday']</option>
									<option value="4">$tstrings['friday']</option>
									<option value="5">$tstrings['saturday']</option>
									<option value="6">$tstrings['sunday']</option>
									<option value="weekend">$tstrings['at_filter_weekend']</option>
									<option value="weekday">$tstrings['at_filter_weekday']</option>
									</select>
									</td>
									</tr>
									</table>
									</span>
								</div>
								<br><label for="vps">$tstrings['at_vps']:</label>
								
								<input type="checkbox" name="vps" id="vps" value="" class="checkbox ui-widget-content ui-corner-all">
									<span id="vpsE">
									<label for="vpso">$tstrings['at_vps_override']:</label>
										<input type="checkbox" name="vpso" id="vpso" value="" class="checkbox ui-widget-content ui-corner-all">
									</span>
									
							</fieldset>
						</form>
						
						<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
						<div id="actions">
						<button id="atbutton0">$tstrings['at_add']</button>
						<button id="atbutton1">$tstrings['at_del']</button>
						<button id="atbutton2">$tstrings['at_reload']</button>
						<button id="atbutton3">$tstrings['at_save']</button>
						<button id="atbutton4">$tstrings['at_parse']</button>
						<button id="atbutton5">$tstrings['at_simulate']</button>
						<button id="atbutton6">$tstrings['at_timers']</button>
						</div></div>
							<div id="errorbox" class="timerlist_row" style="color: red;">
		<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;"> 
			<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span> 
			<span id="error"></span>
			<span id="success" style="color: green;"></span>
		</div>
	</div>
		<span style="display: block;clear: both;"/>
		</div>
		</div>
	</div>
	</div>
	</div>
</div>
<div id="simdlg" style="display:none;">
<div>
<table id="simt" border="0" class="ui-widget" style="width:99%;">
<thead class="ui-widget-header">
<tr><th>AT Name</th><th>Title</th><th>Channel</th><th>Start</th><th>End</th></tr>
</thead>
<tbody id='simtb' class="ui-widget-content">
</tbody>
</table>
</div>
</div>

<div id="timerdlg" style="display:none;">
<div id="timerdlgcont">
</div>
<div>

<script type="text/javascript" src="/js/jquery-ui-timepicker-addon.min.js"></script>
<script type="text/javascript" src="/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="/js/at.js"></script>
<script type="text/javascript">
#raw
$(function() { InitPage();});
#end raw
</script>
<link rel="stylesheet" type="text/css" href="/css/chosen.min.css" />
#end filter
